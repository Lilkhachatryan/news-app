(this["webpackJsonpnews-app"]=this["webpackJsonpnews-app"]||[]).push([[0],{48:function(e,t,n){e.exports=n(83)},53:function(e,t,n){},54:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(18),o=n.n(l),c=(n(53),n(41)),i=(Object(c.a)(),n(54),n(47)),s=n(6),u=n(7),m=n(9),d=n(8),h=n(24),p=n.n(h),f=n(56).create({baseURL:"https://newsapi.org/v2/",headers:{Accept:"application/json","X-Api-Key":"99416760de1f41a087206b4225ac3e81"}});f.interceptors.response.use((function(e){return e}),(function(e){return e.response&&e.response.status,Promise.reject(e)}));var v=f,g=function(e){return v.get("sources",{params:e})},b=function(e){return v.get("everything",{params:e})},E=n(21),y=n(22),O=n(11),C=n(12);function w(){var e=Object(O.a)(["\n\tpadding: 2rem;\n\tdisplay: flex;\n\tjustify-content: center;\n"]);return w=function(){return e},e}function j(){var e=Object(O.a)(["\n\tfont-size: 2.5rem;\n"]);return j=function(){return e},e}function k(){var e=Object(O.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 2rem;\n"]);return k=function(){return e},e}function S(){var e=Object(O.a)(["\n\tposition: relative;\n\tz-index: 1500;\n\twidth: 50%;\n\theight: 80%;\n\tbackground-color: #fff;\n\tborder: 0.1rem solid #80808059;\n\toutline: 0;\n\tdisplay: flex;\n\tflex-direction: column;\n\toverflow-y: auto;\n\tbox-shadow: 3px 3px #80808059;\n\tborder-radius: 10px;\n"]);return S=function(){return e},e}function N(){var e=Object(O.a)(["\n\twidth: 100%;\n\theight: 100%;\n\tposition: absolute;\n\tbackground-color: #e3f2fd4a;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\ttop: 0;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tz-index: 1499;\n"]);return N=function(){return e},e}var M=C.a.div(N()),x=C.a.div(S()),F=C.a.div(k()),z=C.a.div(j()),R=C.a.div(w()),A=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.show,n=e.title,a=e.onClose,o=e.children;Object(y.a)(e,["show","title","onClose","children"]);return t?Object(l.createPortal)(r.a.createElement(M,{onClick:function(e){}},r.a.createElement(x,{ref:"modal"},r.a.createElement(F,null,r.a.createElement(z,null,n),r.a.createElement("button",{onClick:a,type:"button",className:"close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement(R,null,o))),document.body):null}}]),n}(a.Component),T=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={value:e.props.value,error:!1},e.handleChange=function(t){var n=e.props,a=n.validate,r=n.name,l=n.onChange,o=t.target.value,c=!!a&&a(o);e.setState({value:o,error:c}),l({name:r,value:o,error:c})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.fieldType,n=(e.onChange,e.validate,e.value,e.id),a=e.name,l=Object(y.a)(e,["fieldType","onChange","validate","value","id","name"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:n},a),r.a.createElement(t,Object.assign({onChange:this.handleChange,className:"form-control",id:n,value:this.state.value},l)),r.a.createElement("div",{className:"text-error"},this.state.error))}}],[{key:"getDerivedStateFromProps",value:function(e){return{value:e.value}}}]),n}(a.Component);T.defaultProps={fieldType:"input"};var D=T,I=n(45),H=n.n(I),P=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={fields:{name:"",email:"",message:""},fieldErrors:{}},e.onInputChange=function(t){var n=t.name,a=t.value,r=t.error,l=e.state,o=l.fields,c=l.fieldErrors;o[n]=a,c[n]=r,e.setState({fields:o,fieldErrors:c})},e.onSubmit=function(t){t.preventDefault(),e.validate()||(e.props.onModalClose(),e.setState({fields:{name:"",email:"",message:""}}))},e.validate=function(){var t=e.state,n=t.fields,a=t.fieldErrors,r=Object.keys(a).filter((function(e){return a[e]}));return!n.name||(!n.email||(!n.message||!!r.length))},e}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement(D,{value:this.state.fields.name,onChange:this.onInputChange,validate:function(e){return!e&&"Name Required"},id:"inputName",name:"name",placeholder:"Type your name"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement(D,{value:this.state.fields.email,onChange:this.onInputChange,validate:function(e){return!H()(e)&&"Invalid Email"},type:"email",id:"inputEmail",name:"email",placeholder:"Type your email"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement(D,{value:this.state.fields.message,onChange:this.onInputChange,validate:function(e){return!e&&"Message Required"},id:"inputMessage",name:"message",placeholder:"Type your message",fieldType:"textarea",rows:5})),r.a.createElement("button",{onClick:this.onSubmit,disabled:this.validate(),type:"submit",className:"btn btn-primary float-right"},"Submit"))}}]),n}(a.Component),q=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={isMobile:null,isOpen:!1,sources:[],params:{pageSize:4},show:!1},e.handleResize=function(){e.setState({isMobile:window.innerWidth<=768,isOpen:!1})},e.debouncedHandleResize=p.a.debounce(e.handleResize,500),e.getSourcesFromServer=function(){g(Object(i.a)({},e.state.params)).then((function(t){var n=p.a.uniqBy(t.data.sources,"category");e.setState({sources:n.slice(0,4)})}))},e.handleCloseModal=function(){e.setState({show:!1})},e.handleOpenModal=function(){e.setState({show:!0})},e.handleKeyDown=function(t){"Enter"===t.key&&e.props.history.push("/search?q=".concat(t.target.value))},e.onToggleMenu=function(){e.setState((function(e){return{isOpen:!e.isOpen}}))},e.renderCategories=function(){return e.state.sources.map((function(e){return r.a.createElement("li",{key:e.id,className:"nav-item"},r.a.createElement(E.b,{to:"/category/".concat(e.category),className:"nav-link"},e.name))}))},e.renderNavItems=function(){var t=e.state,n=t.isMobile,a=t.isOpen;return n?r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"navbar-nav"},a?e.renderCategories():null),r.a.createElement("button",{onClick:e.onToggleMenu,className:"navbar-toggler ml-auto align-self-baseline",type:"button"},r.a.createElement("span",{className:"navbar-toggler-icon"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"nav"},e.renderCategories()),r.a.createElement("input",{onKeyDown:e.handleKeyDown,type:"text",className:"form-control mr-2",id:"search",placeholder:"Search",style:{width:200}}),r.a.createElement("button",{onClick:e.handleOpenModal,type:"button",className:"btn btn-primary"},"Contact us"))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.debouncedHandleResize),this.handleResize(),this.getSourcesFromServer()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.debouncedHandleResize)}},{key:"render",value:function(){var e=this.state.show;return r.a.createElement("div",{className:"fixed-top"},r.a.createElement("nav",{className:"navbar navbar-light",style:{backgroundColor:"#e3f2fd"}},this.renderNavItems()),r.a.createElement(A,{show:e,onClose:this.handleCloseModal,title:"Contact us"},r.a.createElement(P,{onModalClose:this.handleCloseModal})))}}]),n}(a.Component),K=function(e){var t=e.category;return r.a.createElement("div",null,t.description)},W=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={categories:[],category:{},params:{category:null},show:!1},e.getCategoriesFromServer=function(){var t=e.props.match;e.setState({category:t.params.id}),g({category:t.params.id}).then((function(t){e.setState({categories:t.data.sources})}))},e.handleCloseModal=function(){e.setState({show:!1})},e.handleOpenModal=function(t){e.setState({show:!0,category:t})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getCategoriesFromServer()}},{key:"render",value:function(){var e=this,t=this.props.match,n=this.state,a=n.categories,l=n.show,o=n.category;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"category id param - ",t.params.id),r.a.createElement("hr",null),r.a.createElement("br",null),a.map((function(t){return r.a.createElement("div",{key:t.id+"category"},r.a.createElement("div",null,t.name),r.a.createElement("a",{href:t.url,target:"_blank"},t.url),r.a.createElement("div",null,t.description.slice(0,40)+"..."),r.a.createElement("div",{onClick:function(){return e.handleOpenModal(t)}},"see more"),r.a.createElement("hr",null),r.a.createElement("hr",null),r.a.createElement("hr",null))})),r.a.createElement(A,{show:l,onClose:this.handleCloseModal,title:"Contact us"},r.a.createElement(K,{category:o})))}}]),n}(a.Component),B=function(){return r.a.createElement("div",null,"Home")},L=n(46),J=n.n(L),U=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={articles:[],params:{q:null}},e.getArticlesFromServer=function(){var t=e.props.location;b({q:J.a.parse(t.search,{ignoreQueryPrefix:!0})}).then((function(t){e.setState({articles:t.data.articles})}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getArticlesFromServer()}},{key:"render",value:function(){var e=this.state.articles;return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",null,"Search results"),r.a.createElement("hr",null),r.a.createElement("br",null),e.map((function(e,t){return r.a.createElement("div",{key:t+"article"},r.a.createElement("div",null,e.author),r.a.createElement("div",null,e.publishedAt),r.a.createElement("a",{href:e.url,target:"_blank"},e.url),r.a.createElement("div",null,e.description.slice(0,40)+"..."),r.a.createElement("hr",null),r.a.createElement("hr",null))})))}}]),n}(a.Component),_=n(2),Q=Object.freeze({Root:"/",Home:"/home",SearchResult:"/search",Category:"/category/:id",NotFoundPage:"*"}),X=function(e){var t=e.location;return r.a.createElement("div",null,r.a.createElement("strong",null,"Error!")," No route found matching:",r.a.createElement("div",null,r.a.createElement("code",null,t.pathname)))};var $=function(){return r.a.createElement(E.a,null,r.a.createElement(_.b,{path:"/",component:q}),r.a.createElement("div",{style:{marginTop:60,padding:"10px 40px"}},r.a.createElement(_.d,null,r.a.createElement(_.b,{path:Q.Home,component:B}),r.a.createElement(_.b,{path:Q.SearchResult,render:function(e){return r.a.createElement(U,Object.assign({key:e.location.search},e))}}),r.a.createElement(_.b,{path:Q.Category,render:function(e){return r.a.createElement(W,Object.assign({key:e.match.params.id},e))}}),r.a.createElement(_.b,{exact:!0,render:function(){return r.a.createElement(_.a,{to:Q.Home})}}),r.a.createElement(_.b,{path:Q.NotFoundPage,component:X}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(82);o.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.90394c7e.chunk.js.map